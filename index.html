<!DOCTYPE html>
<html>
<head>
  <title>Directory</title>
</head>
<body>
  <input type="text" oninput="searchDirectory()" id="search" placeholder="Search..." />
  <div id="directory"></div>

  <script src="data.js"></script>
  <script>
    function render(data) {
      const container = document.getElementById("directory");
      container.innerHTML = data.map(p => `
        <div>
          <h3>${p.name}</h3>
          <p>${p.designation}</p>
          <p>${p.phone}</p>
        </div>
      `).join('');
    }

    function searchDirectory() {
      const query = document.getElementById("search").value.toLowerCase();
      const filtered = directoryData.filter(p =>
        Object.values(p).some(val =>
          String(val).toLowerCase().includes(query)
        )
      );
      render(filtered);
    }

    document.addEventListener("DOMContentLoaded", () => {
      render(directoryData);
    });
  </script>
</body>
</html>
